## CVE-2019-13272：Linux内核权限提升漏洞警报
 
### 1. 漏洞描述

在5.1.17之前的Linux内核中，kernel / ptrace.c中的ptrace_link错误地处理了想要创建ptrace关系的进程的凭据记录，这允许本地用户通过利用父子的某些方案来获取root访问权限 进程关系，父进程删除权限并调用execve（可能允许攻击者控制）。 一个影响因素是对象寿命问题（也可能导致恐慌）。 另一个影响因素是将ptrace关系标记为特权，这可以通过（例如）Polkit的pkexec帮助程序与PTRACE_TRACEME进行利用。 注意：在某些环境中，SELinux deny_ptrace可能是一种可用的解决方法。  

受影响的版本  

Linux Kernel < 5.1.17   

该漏洞比较鸡肋，只能在本地提权成功，不能通过SSH链接进行提权。  


### 2. 漏洞验证 

网上纰漏的提权文件poc.c，因能力受限，此处仅供利用。  

https://github.com/bcoles/kernel-exploits/blob/master/CVE-2019-13272/poc.c  

ubuntu 18.04.1  kernel 4.18.0-15  

	gcc -s poc.c -o poc 
	./poc 

![](https://github.com/shadow-horse/VulnerabilityAnalysis/blob/master/Linux/CVE-2019-13272/exec.png)


### 3. 漏洞修复

修补 Linux Kernel 5.1.17  
将Linux内核升级到最新版本  

### 参考
https://0x20h.com/p/fe4f.html  