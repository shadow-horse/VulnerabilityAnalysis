## Apereo CAS 反序列化验证  

### 框架介绍 

Central Authentication Service (CAS)，通常称为CAS。 CAS是一种针对Web的企业多语言单点登录解决方案，并尝试成为您的身份验证和授权需求的综合平台。Apereo CAS是一个开源框架，实现集中的登录授权服务。https://github.com/apereo/cas  


### 漏洞简介

相关的漏洞应该是CVE-2015-4852 CVE-2015-6420 CVE-2015-6934，Apache Commons Collections：通过InvokerTransformer执行代码。Apache Commons Collections被应用于很多java应用，transformer利用到了Java.lang.Runtime.exec（）执行字符串，当原始数据进行反序列化时，调用readObject（）方法构建对象，使用InvokerTransformer运行指定命令。  

该漏洞发现与15年，属于影响比较广泛的漏洞，通过readObject接口利用，涉及的类还有CloneTransformer，ForClosure，InstantiateFactory，InstantiateTransformer，PrototypeCloneFactory，PrototypeSerializationFactory，WhileClosure等。  

受影响产品可以参考：https://vigilance.fr/vulnerabilities/Apereo-CAS-Server-903000  

https://apereo.github.io/2016/04/08/commonsvulndisc/  

### 漏洞复现


